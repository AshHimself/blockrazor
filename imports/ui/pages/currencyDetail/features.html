<template name="features">
  <div class="modal fade" id="addFeatureModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Adding a new feature</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          You're adding a {{currencyName}} feature. You will be credited with a bounty of {{bountyamount}} ZZR in 7 days as long as it:
          <ul>
            <li>Maintains 3 or more stars</li>
            <li>Is not sent to the Sin Bin by a moderator</li>
          </ul>
          Here's an example feature from Monero:<br />
          <i>Privacy - all transactions made with Monero are private and untraceable.</i>
          <br>
          You'll also receive more KZR if your feature reaches the top.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">Thanks, don't show this again</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="wymiModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Commenting</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>You'll be asked how much <i>wymi</i> you want to give your comment. </p>
          <p>You must have enough avalable balance in your wallet to fund the amount you choose.</p>
          <p>If your comment becomes the <i>top comment</i> in the thread, you get <i>triple</i> your wymi back!
          If not, your wymi is <i>returned to you in full</i>. Comments sent to the Sin Bin for violating
          the rules shall forfeit their wymi.</p>
          <p>The wymi is currently optional but a minimum amount may be implimented in future depending on how much spam etc there is.</p>
          <h5>Rules</h5>
          If you think you're doing the right thing, you probably are.
          <ul>
            <li>No spamming</li>
            <li>No personal attacks or abuse</li>
            <li>Warning people about scams etc is perfectly fine, but <i>malicious</i> FUD is not.</li>
          </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">Close</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="featureModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add a new feature</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          It looks like {{currencyName}} has only recently been added to Blockrazor and
          its features have not yet been added. This is a great opportunity for you to
          add one of {{currencyName}}'s features and earn some Krazor!
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">Thanks, don't show this again</button>
        </div>
      </div>
    </div>
  </div>
  {{featureModal}}
  <div class="col-sm-12 currency-features">
    <div class="header" >Features</div>
    <div>
      <div class="currencyDetailBox">
        {{#unless reactiveVar 'showflagged'}}
		    <div class="row commentThread">
          {{#if subsCacheReady}}
            {{#each features}}
              <div class="col-sm-12">{{> feature}}</div>
            {{else}}
              <div class="no-result-message">
                {{> empty}}
              </div>
            {{/each}}
            {{#if features}}
              <button class="load-more-button" id="loadMoreFeatures">Load More</button>
            {{/if}}
          {{else}}
            {{> loading}}
          {{/if}}
		    </div>
        {{/unless}}
      </div>

      <div class="row">
        <div class="col-sm-12 addNewOuter">
          <button class="btn btn-primary showAddNewFeature pull-right">
            <i class="fa fa-plus" aria-hidden="true"></i> Add feature
          </button>
          <div class="addNewFeatureContainer" style="display:none;">
            <div class="input-group">
              <textarea id="featureName" class="form-control" maxlength="140" minlength="6" data-toggle="popover" data-placement="top" data-html="true" 
                data-content="<b>Rules:</b><br />
                              <ul>
                                <li>Use clear language, keep it as short as possible</li>
                                <li>No jokes (people new to crypto will just be confused)</li>
                                <li>Any claims must be factually correct</li>
                              </ul>"></textarea>
              <div class="input-group-append">
                <button class="btn btn-primary float-left submitNewFeature">Submit</button>
                &nbsp;&nbsp;<button class="btn btn-primary float-left cancelNewFeature">Cancel</button>
              </div>  
            </div>
            <span class="helpers">
              <br/>
              <h4 class="feature-help-button">&nbsp;&nbsp;<i class="fa fa-question-circle help" aria-hidden="true"></i></h4>
              <div id="charNumFeature"></div>
            </span>
          </div>
        </div>
      </div>
    


        <!-- TODO : Confirm and Delete -->
        <!-- {{#if reactiveVar 'showflagged'}}
        {{#if subsCacheReady}}
        {{#each flaggedfeatures}}
          <div class="col-lg-6">{{> feature}}</div>
        {{else}}
          {{> empty}}
        {{/each}}
      {{else}}
        {{> loading}}
      {{/if}}
      {{/if}} -->

    </div>
  </div>
</template>
